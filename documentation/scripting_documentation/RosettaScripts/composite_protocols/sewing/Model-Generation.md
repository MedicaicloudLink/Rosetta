#Model Generation
This page describes how to generate model files for the old SEWING protocol. For the new SEWING protocol, visit the [[Segment File Generation|Segment File Generation]] page.


First we need to generate a set of models. The only currently supported mechanism for model generation is through the use of a [[Features database|FeaturesTutorials]]. 

----------------------

###Feature Database Building
The following set ReportToDB tag contains the minimal set of features.

```xml
<MOVERS>
<ReportToDB name=features database_name=scores.db3>
    <ResidueFeatures />
    <PoseConformationFeatures />
    <ResidueConformationFeatures />
    <ProteinResidueConformationFeatures />
    <ResidueSecondaryStructureFeatures />
    <SecondaryStructureSegmentFeatures />
    <SmotifFeatures />
</ReportToDB>
</MOVERS>
```

An example command line for generation of 'Features database' that will be used to generate model files:
```
/path/to/rosetta/bin/rosetta_scripts.default.linuxgccrelease \
-protocol features.xml \
-dbms:database_name pdb.db3 
```

----------------------

###Actual Model Generation
After building the features database, let's generate real models from this DB. To run SEWING, we will need to have these models in the SEWING model file format. To accomplish this, we will use the [[SEWING Hasher application]] in "generate" mode.

sewing_hasher model generation flags
```
-sewing:mode generate           Set to sewing_hasher mode to 'generate' for model generation
-inout:dbms:database_name       The SQL database file to generate models from
-sewing:model_file_name         The name of the model file to be generated
```

An example command line for generation of model files:
```
/path/to/rosetta/bin/sewing_hasher.linuxgccrelease \
-sewing:mode generate # it will generate three secondary structures (smotif)' models \
-database_name pdb.db3 \
-sewing:model_file_name pdb.models
```


----------------------

###ModelTrimmer

Unless the target backbone to design is random, [[ModelTrimmer]] needs to trim models leaving only relevant models to speed up the process of model comparison and assembly and to increase the quality of output structures. 

The model file generated by the initial run of sewing_hasher is provided as an input, and the user can filter the models by the length and type of their secondary structure elements. More information on this application can be found on the [[ModelTrimmer]] application page.

##See Also
* [[SEWING]] The SEWING home page
* [[SEWING Dictionary]]
* [[Model comparison with geometric hashing]]